import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

# The layout grid
layout = """XXPXPXX
            X 1 2 X
            S XXX S
            X     X
            XXODOXX"""

# Preprocess the layout to create a grid
layout_lines = [line.strip() for line in layout.split('\n')]
height = len(layout_lines)
width = len(layout_lines[0])
print(f'Layout size: {height}x{width}')

# Trajectory data (replace with your actual trajectory)
SP_trajectory =     [[(5, 1), (2, 1)], [(5, 2), (1, 1)], [(5, 3), (1, 1)], [(4, 3), (2, 1)], [(4, 3), (2, 1)], [(4, 3), (2, 1)], [(5, 3), (2, 1)], [(5, 2), (1, 1)], [(5, 1), (1, 1)], [(4, 1), (1, 2)], [(4, 1), (1, 2)], [(4, 1), (1, 3)], [(5, 1), (1, 2)], [(5, 2), (1, 2)], [(5, 3), (1, 2)], [(4, 3), (1, 2)], [(4, 3), (1, 2)], [(4, 3), (1, 1)], [(5, 3), (2, 1)], [(5, 2), (2, 1)], [(5, 1), (1, 1)], [(4, 1), (1, 1)], [(4, 1), (1, 2)], [(4, 1), (1, 3)], [(5, 1), (2, 3)], [(5, 1), (2, 3)], [(5, 2), (2, 3)], [(5, 3), (2, 3)], [(4, 3), (2, 3)], [(4, 3), (2, 3)], [(4, 3), (2, 3)], [(5, 3), (2, 3)], [(5, 2), (3, 3)], [(5, 1), (3, 3)], [(4, 1), (3, 3)], [(4, 1), (3, 3)], [(4, 1), (3, 3)], [(5, 1), (4, 3)], [(5, 2), (3, 3)], [(5, 2), (3, 3)], [(5, 3), (3, 3)], [(5, 3), (3, 3)], [(5, 3), (2, 3)], [(5, 3), (3, 3)], [(5, 3), (3, 3)], [(5, 3), (3, 3)], [(5, 3), (3, 3)], [(4, 3), (3, 3)], [(3, 3), (4, 3)], [(3, 3), (5, 3)], [(3, 3), (5, 2)], [(4, 3), (5, 2)], [(5, 3), (5, 2)], [(5, 3), (5, 2)], [(5, 3), (5, 2)], [(5, 3), (5, 2)], [(5, 2), (5, 3)], [(5, 1), (5, 3)], [(4, 1), (5, 2)], [(4, 1), (5, 1)], [(4, 1), (5, 1)], [(5, 1), (4, 1)], [(5, 2), (4, 1)], [(5, 2), (5, 1)], [(5, 2), (4, 1)], [(5, 3), (3, 1)], [(4, 3), (4, 1)], [(4, 3), (4, 1)], [(4, 3), (4, 1)], [(4, 3), (5, 1)], [(4, 3), (5, 1)], [(5, 3), (5, 1)], [(5, 2), (4, 1)], [(5, 2), (4, 1)], [(5, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (2, 1)], [(4, 1), (2, 1)], [(5, 1), (2, 1)], [(5, 1), (2, 1)], [(5, 1), (2, 1)], [(5, 1), (2, 1)], [(5, 2), (2, 1)], [(5, 3), (2, 1)], [(4, 3), (3, 1)], [(4, 3), (3, 1)], [(4, 3), (3, 1)], [(5, 3), (4, 1)], [(5, 2), (4, 1)], [(5, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(5, 1), (4, 1)], [(5, 2), (4, 1)], [(5, 3), (4, 1)], [(4, 3), (4, 1)], [(4, 3), (5, 1)], [(4, 3), (5, 1)], [(5, 3), (5, 1)], [(5, 2), (5, 1)], [(5, 2), (5, 1)], [(5, 2), (5, 1)], [(5, 2), (4, 1)], [(5, 1), (4, 1)], [(5, 1), (4, 1)], [(5, 1), (4, 1)], [(5, 1), (4, 1)], [(5, 1), (4, 1)], [(5, 1), (4, 1)], [(5, 1), (4, 1)], [(5, 1), (4, 1)], [(5, 1), (3, 1)], [(5, 1), (3, 1)], [(4, 1), (2, 1)], [(4, 1), (1, 1)], [(4, 1), (1, 2)], [(5, 1), (1, 3)], [(5, 2), (2, 3)], [(5, 3), (2, 3)], [(5, 3), (1, 3)], [(5, 3), (1, 2)], [(5, 3), (1, 1)], [(5, 3), (1, 1)], [(5, 3), (1, 1)], [(4, 3), (1, 1)], [(4, 3), (1, 1)], [(4, 3), (1, 1)], [(3, 3), (1, 1)], [(3, 3), (1, 2)], [(3, 3), (1, 3)], [(4, 3), (1, 3)], [(5, 3), (2, 3)], [(5, 2), (2, 3)], [(5, 1), (2, 3)], [(4, 1), (3, 3)], [(4, 1), (3, 3)], [(4, 1), (3, 3)], [(5, 1), (4, 3)], [(5, 2), (4, 3)], [(5, 2), (4, 3)], [(5, 2), (3, 3)], [(5, 3), (4, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 2)], [(4, 3), (5, 2)], [(5, 3), (5, 2)], [(5, 2), (5, 1)], [(5, 2), (5, 1)], [(5, 1), (4, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(5, 1), (3, 1)], [(5, 2), (3, 1)], [(5, 3), (2, 1)], [(4, 3), (1, 1)], [(4, 3), (1, 1)], [(4, 3), (1, 2)], [(5, 3), (1, 2)], [(5, 2), (1, 3)], [(5, 1), (1, 3)], [(4, 1), (1, 3)], [(4, 1), (1, 3)], [(4, 1), (1, 3)], [(5, 1), (1, 3)], [(5, 1), (1, 2)], [(5, 1), (1, 3)], [(5, 1), (1, 2)], [(5, 1), (1, 2)], [(5, 1), (1, 3)], [(5, 2), (2, 3)], [(5, 3), (2, 3)], [(4, 3), (2, 3)], [(4, 3), (2, 3)], [(4, 3), (2, 3)], [(5, 3), (2, 3)], [(5, 2), (1, 3)], [(5, 1), (1, 2)], [(4, 1), (1, 2)], [(4, 1), (1, 2)], [(4, 1), (1, 1)], [(4, 1), (1, 1)], [(5, 1), (1, 1)], [(5, 2), (2, 1)], [(5, 3), (2, 1)], [(5, 3), (3, 1)], [(5, 3), (3, 1)], [(5, 3), (2, 1)], [(5, 3), (3, 1)], [(5, 3), (2, 1)], [(5, 3), (2, 1)], [(5, 3), (2, 1)], [(4, 3), (2, 1)], [(3, 3), (2, 1)], [(3, 3), (3, 1)], [(3, 3), (3, 1)], [(4, 3), (3, 1)], [(5, 3), (3, 1)], [(5, 2), (3, 1)], [(5, 1), (3, 1)], [(4, 1), (2, 1)], [(4, 1), (1, 1)], [(4, 1), (1, 1)], [(5, 1), (1, 1)], [(5, 2), (1, 1)], [(5, 2), (1, 2)], [(5, 2), (1, 2)], [(5, 3), (1, 2)], [(4, 3), (1, 2)], [(4, 3), (1, 1)], [(4, 3), (1, 1)], [(5, 3), (1, 1)], [(5, 2), (1, 1)], [(5, 1), (1, 1)], [(4, 1), (1, 1)], [(4, 1), (1, 2)], [(4, 1), (1, 2)], [(5, 1), (1, 2)], [(5, 1), (1, 2)], [(5, 2), (1, 1)], [(5, 3), (1, 2)], [(4, 3), (1, 2)], [(4, 3), (1, 2)], [(4, 3), (1, 3)], [(4, 3), (1, 3)], [(5, 3), (1, 3)], [(5, 2), (1, 3)], [(5, 1), (1, 3)], [(4, 1), (1, 3)], [(4, 1), (1, 3)], [(4, 1), (2, 3)], [(5, 1), (2, 3)], [(5, 1), (2, 3)], [(5, 1), (1, 3)], [(5, 1), (1, 2)], [(5, 2), (1, 2)], [(5, 3), (1, 3)], [(4, 3), (1, 3)], [(4, 3), (1, 3)], [(4, 3), (1, 3)], [(5, 3), (1, 3)], [(5, 2), (1, 3)], [(5, 1), (1, 3)], [(4, 1), (1, 2)], [(4, 1), (1, 1)], [(4, 1), (1, 1)], [(5, 1), (1, 2)], [(5, 2), (1, 2)], [(5, 3), (1, 3)], [(5, 3), (1, 3)], [(5, 3), (1, 2)], [(5, 3), (1, 1)], [(5, 3), (1, 1)], [(5, 3), (1, 1)], [(5, 3), (1, 1)], [(5, 3), (1, 1)], [(5, 3), (2, 1)], [(4, 3), (2, 1)], [(4, 3), (2, 1)], [(3, 3), (2, 1)], [(3, 3), (2, 1)], [(3, 3), (3, 1)], [(4, 3), (3, 1)], [(5, 3), (3, 1)], [(5, 2), (3, 1)], [(5, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(5, 1), (3, 1)], [(5, 2), (3, 1)], [(5, 2), (4, 1)], [(5, 2), (4, 1)], [(5, 3), (3, 1)], [(4, 3), (3, 1)], [(4, 3), (3, 1)], [(4, 3), (3, 1)], [(5, 3), (2, 1)], [(5, 2), (3, 1)], [(5, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(4, 1), (3, 1)], [(5, 1), (4, 1)], [(5, 2), (5, 1)], [(5, 3), (5, 1)], [(4, 3), (5, 1)], [(4, 3), (5, 1)], [(4, 3), (5, 1)], [(5, 3), (5, 1)], [(5, 3), (5, 1)], [(5, 2), (4, 1)], [(5, 2), (4, 1)], [(5, 1), (4, 1)], [(5, 1), (4, 1)], [(4, 1), (3, 1)], [(4, 1), (2, 1)], [(4, 1), (2, 1)], [(5, 1), (2, 1)], [(5, 1), (2, 1)], [(5, 2), (2, 1)], [(5, 3), (2, 1)], [(4, 3), (2, 1)], [(4, 3), (2, 1)], [(4, 3), (2, 1)], [(5, 3), (2, 1)], [(5, 2), (2, 1)], [(5, 1), (2, 1)], [(4, 1), (2, 1)], [(4, 1), (2, 1)], [(4, 1), (2, 1)], [(5, 1), (2, 1)], [(5, 2), (2, 1)], [(5, 2), (2, 1)], [(5, 3), (3, 1)], [(5, 3), (2, 1)], [(5, 3), (1, 1)], [(5, 3), (1, 1)], [(5, 3), (1, 1)], [(5, 3), (1, 1)], [(4, 3), (1, 1)], [(4, 3), (1, 1)], [(3, 3), (1, 2)], [(3, 3), (1, 2)], [(3, 3), (1, 2)], [(4, 3), (1, 2)], [(5, 3), (1, 1)], [(5, 2), (1, 1)], [(5, 1), (1, 1)], [(4, 1), (2, 1)], [(4, 1), (2, 1)], [(4, 1), (2, 1)], [(5, 1), (2, 1)], [(5, 2), (2, 1)], [(5, 2), (2, 1)], [(5, 2), (2, 1)], [(5, 3), (2, 1)], [(4, 3), (2, 1)], [(4, 3), (2, 1)], [(4, 3), (3, 1)], [(5, 3), (3, 1)], [(5, 2), (3, 1)], [(5, 1), (3, 1)], [(4, 1), (2, 1)], [(4, 1), (2, 1)], [(4, 1), (2, 1)], [(5, 1), (2, 1)], [(5, 2), (2, 1)], [(5, 3), (1, 1)], [(4, 3), (1, 1)], [(4, 3), (1, 1)], [(4, 3), (1, 1)], [(5, 3), (1, 1)], [(5, 2), (1, 1)], [(5, 1), (1, 2)], [(4, 1), (1, 2)], [(4, 1), (1, 2)], [(4, 1), (1, 3)], [(5, 1), (1, 3)], [(5, 2), (1, 3)], [(5, 3), (2, 3)], [(4, 3), (2, 3)], [(4, 3), (2, 3)], [(4, 3), (2, 3)], [(5, 3), (2, 3)], [(5, 2), (2, 3)], [(5, 1), (1, 3)], [(4, 1), (2, 3)], [(4, 1), (3, 3)], [(4, 1), (2, 3)], [(5, 1), (2, 3)], [(5, 2), (2, 3)], [(5, 2), (3, 3)], [(5, 3), (2, 3)], [(5, 3), (2, 3)], [(5, 3), (3, 3)], [(5, 3), (3, 3)], [(4, 3), (3, 3)], [(4, 3), (3, 3)], [(4, 3), (3, 3)], [(4, 3), (3, 3)], [(4, 3), (3, 3)], [(3, 3), (2, 3)], [(3, 3), (2, 3)], [(3, 3), (2, 3)], [(3, 3), (2, 3)], [(3, 3), (2, 3)], [(3, 3), (2, 3)], [(3, 3), (2, 3)], [(4, 3), (2, 3)], [(5, 3), (2, 3)], [(5, 3), (3, 3)], [(5, 3), (3, 3)], [(5, 3), (4, 3)], [(5, 2), (4, 3)]]
DLMH_R_trajectory = [[(5, 1), (2, 1)], [(5, 2), (1, 1)], [(5, 3), (1, 1)], [(4, 3), (2, 1)], [(4, 3), (2, 1)], [(4, 3), (2, 1)], [(5, 3), (2, 1)], [(5, 2), (1, 1)], [(5, 1), (1, 1)], [(4, 1), (1, 1)], [(4, 1), (1, 1)], [(4, 1), (1, 1)], [(5, 1), (2, 1)], [(5, 2), (2, 1)], [(5, 3), (1, 1)], [(4, 3), (1, 1)], [(4, 3), (1, 1)], [(4, 3), (1, 2)], [(5, 3), (1, 2)], [(5, 2), (1, 2)], [(5, 1), (1, 2)], [(4, 1), (1, 3)], [(4, 1), (1, 3)], [(4, 1), (1, 3)], [(5, 1), (1, 3)], [(5, 2), (2, 3)], [(5, 3), (1, 3)], [(4, 3), (1, 3)], [(4, 3), (1, 2)], [(4, 3), (1, 2)], [(5, 3), (1, 1)], [(5, 2), (1, 1)], [(5, 1), (2, 1)], [(4, 1), (1, 1)], [(4, 1), (1, 1)], [(4, 1), (1, 2)], [(5, 1), (1, 2)], [(5, 2), (1, 2)], [(5, 3), (1, 3)], [(4, 3), (2, 3)], [(3, 3), (2, 3)], [(3, 3), (2, 3)], [(3, 3), (2, 3)], [(4, 3), (1, 3)], [(4, 3), (1, 3)], [(5, 3), (1, 3)], [(5, 2), (1, 3)], [(5, 1), (1, 3)], [(4, 1), (1, 2)], [(4, 1), (1, 2)], [(4, 1), (1, 1)], [(4, 1), (1, 1)], [(4, 1), (1, 2)], [(4, 1), (1, 2)], [(4, 1), (1, 2)], [(4, 1), (1, 2)], [(5, 1), (1, 2)], [(5, 2), (1, 1)], [(5, 2), (1, 2)], [(5, 2), (1, 1)], [(5, 3), (1, 2)], [(4, 3), (1, 2)], [(4, 3), (1, 2)], [(4, 3), (1, 2)], [(5, 3), (1, 2)], [(5, 2), (1, 3)], [(5, 1), (2, 3)], [(4, 1), (2, 3)], [(4, 1), (2, 3)], [(4, 1), (2, 3)], [(5, 1), (3, 3)], [(5, 2), (3, 3)], [(5, 2), (3, 3)], [(5, 3), (4, 3)], [(5, 3), (4, 3)], [(5, 3), (4, 3)], [(5, 3), (4, 3)], [(5, 3), (4, 3)], [(5, 3), (4, 3)], [(5, 3), (4, 3)], [(5, 3), (4, 3)], [(5, 3), (4, 3)], [(5, 3), (3, 3)], [(4, 3), (3, 3)], [(4, 3), (3, 3)], [(4, 3), (3, 3)], [(5, 3), (3, 3)], [(5, 2), (3, 3)], [(5, 1), (3, 3)], [(4, 1), (3, 3)], [(4, 1), (3, 3)], [(4, 1), (3, 3)], [(5, 1), (3, 3)], [(5, 2), (3, 3)], [(5, 2), (2, 3)], [(5, 3), (3, 3)], [(5, 3), (3, 3)], [(5, 3), (3, 3)], [(4, 3), (3, 3)], [(4, 3), (3, 3)], [(4, 3), (3, 3)], [(5, 3), (3, 3)], [(5, 2), (4, 3)], [(5, 1), (5, 3)], [(4, 1), (5, 3)], [(4, 1), (5, 2)], [(4, 1), (5, 2)], [(5, 1), (5, 3)], [(5, 2), (5, 3)], [(5, 3), (5, 2)], [(4, 3), (5, 2)], [(3, 3), (5, 2)], [(3, 3), (5, 2)], [(3, 3), (5, 2)], [(4, 3), (5, 2)], [(4, 3), (5, 1)], [(5, 3), (5, 1)], [(5, 2), (5, 1)], [(5, 2), (5, 1)], [(5, 1), (5, 2)], [(4, 1), (5, 1)], [(4, 1), (5, 1)], [(4, 1), (5, 1)], [(4, 1), (5, 2)], [(4, 1), (5, 2)], [(4, 1), (5, 1)], [(4, 1), (5, 1)], [(5, 1), (4, 1)], [(5, 2), (4, 1)], [(5, 2), (4, 1)], [(5, 2), (4, 1)], [(5, 3), (4, 1)], [(4, 3), (4, 1)], [(4, 3), (3, 1)], [(4, 3), (4, 1)], [(5, 3), (4, 1)], [(5, 2), (5, 1)], [(5, 1), (4, 1)], [(5, 1), (4, 1)], [(5, 1), (4, 1)], [(4, 1), (5, 1)], [(4, 1), (5, 1)], [(4, 1), (5, 1)], [(4, 1), (5, 1)], [(4, 1), (5, 2)], [(5, 1), (5, 2)], [(5, 1), (5, 2)], [(5, 1), (5, 2)], [(5, 1), (5, 2)], [(5, 1), (5, 3)], [(5, 1), (5, 3)], [(5, 2), (5, 3)], [(5, 1), (5, 3)], [(5, 1), (5, 3)], [(5, 1), (5, 3)], [(5, 1), (5, 3)], [(5, 2), (5, 3)], [(5, 3), (4, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 2)], [(5, 3), (5, 2)], [(5, 3), (5, 2)], [(5, 3), (5, 2)], [(5, 2), (5, 3)], [(5, 1), (5, 3)], [(4, 1), (4, 3)], [(4, 1), (4, 3)], [(4, 1), (4, 3)], [(5, 1), (4, 3)], [(5, 2), (4, 3)], [(5, 3), (4, 3)], [(5, 3), (4, 3)], [(5, 3), (4, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 2)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(5, 3), (4, 3)], [(5, 2), (3, 3)], [(5, 1), (3, 3)], [(4, 1), (4, 3)], [(4, 1), (4, 3)], [(4, 1), (3, 3)], [(5, 1), (3, 3)], [(5, 2), (3, 3)], [(5, 3), (3, 3)], [(5, 3), (3, 3)], [(5, 3), (3, 3)], [(4, 3), (3, 3)], [(4, 3), (3, 3)], [(3, 3), (4, 3)], [(3, 3), (5, 3)], [(3, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(4, 3), (5, 3)], [(5, 3), (5, 2)], [(5, 3), (5, 2)], [(5, 3), (5, 2)], [(5, 2), (5, 3)], [(5, 2), (5, 3)], [(5, 2), (5, 3)], [(5, 1), (5, 3)], [(4, 1), (5, 3)], [(4, 1), (5, 3)], [(4, 1), (5, 2)], [(5, 1), (5, 3)], [(5, 2), (5, 3)], [(5, 2), (5, 3)], [(5, 2), (5, 3)], [(5, 3), (5, 2)], [(4, 3), (5, 3)], [(3, 3), (5, 2)], [(3, 3), (5, 1)], [(2, 3), (5, 1)], [(2, 3), (5, 2)], [(2, 3), (5, 1)], [(1, 3), (4, 1)], [(1, 2), (3, 1)], [(1, 1), (3, 1)], [(2, 1), (3, 1)], [(2, 1), (3, 1)], [(2, 1), (3, 1)], [(1, 1), (3, 1)], [(1, 2), (3, 1)], [(1, 3), (3, 1)], [(2, 3), (4, 1)], [(2, 3), (5, 1)], [(2, 3), (5, 2)], [(1, 3), (5, 2)], [(1, 2), (5, 3)], [(1, 1), (5, 3)], [(2, 1), (4, 3)], [(2, 1), (4, 3)], [(2, 1), (5, 3)], [(1, 1), (5, 3)], [(1, 2), (4, 3)], [(1, 3), (4, 3)], [(2, 3), (4, 3)], [(2, 3), (4, 3)], [(2, 3), (4, 3)], [(1, 3), (4, 3)], [(1, 2), (4, 3)], [(1, 1), (5, 3)], [(2, 1), (5, 3)], [(2, 1), (5, 3)], [(2, 1), (5, 2)], [(1, 1), (5, 2)], [(1, 1), (5, 2)], [(1, 1), (5, 2)], [(1, 1), (5, 2)], [(1, 2), (5, 2)], [(1, 3), (5, 3)], [(1, 3), (5, 2)], [(1, 2), (5, 2)], [(1, 2), (5, 2)], [(1, 2), (5, 2)], [(1, 3), (5, 3)], [(2, 3), (5, 3)], [(3, 3), (5, 3)], [(3, 3), (4, 3)], [(3, 3), (4, 3)], [(2, 3), (4, 3)], [(1, 3), (4, 3)], [(1, 2), (5, 3)], [(1, 1), (4, 3)], [(2, 1), (4, 3)], [(2, 1), (4, 3)], [(2, 1), (4, 3)], [(3, 1), (3, 3)], [(4, 1), (3, 3)], [(5, 1), (4, 3)], [(5, 2), (5, 3)], [(5, 2), (5, 3)], [(5, 2), (5, 3)], [(5, 2), (5, 3)], [(5, 3), (5, 2)], [(4, 3), (5, 1)], [(3, 3), (5, 1)], [(3, 3), (5, 1)], [(2, 3), (5, 1)], [(2, 3), (5, 1)], [(2, 3), (4, 1)], [(1, 3), (5, 1)], [(1, 2), (5, 1)], [(1, 1), (5, 1)], [(2, 1), (4, 1)], [(2, 1), (4, 1)], [(2, 1), (3, 1)], [(1, 1), (4, 1)], [(1, 2), (4, 1)], [(1, 3), (4, 1)], [(2, 3), (4, 1)], [(2, 3), (4, 1)], [(2, 3), (5, 1)], [(1, 3), (5, 1)], [(1, 2), (5, 1)], [(1, 1), (5, 1)], [(2, 1), (5, 1)], [(2, 1), (5, 1)], [(2, 1), (5, 1)], [(1, 1), (5, 1)], [(1, 2), (5, 2)], [(1, 3), (5, 2)], [(2, 3), (5, 3)], [(2, 3), (5, 3)], [(2, 3), (4, 3)], [(2, 3), (4, 3)], [(2, 3), (5, 3)], [(1, 3), (5, 3)], [(1, 2), (5, 2)], [(1, 1), (5, 2)], [(2, 1), (5, 1)], [(2, 1), (4, 1)], [(2, 1), (5, 1)], [(1, 1), (5, 2)], [(1, 1), (5, 2)], [(1, 1), (5, 2)], [(1, 2), (5, 2)], [(1, 3), (5, 2)], [(2, 3), (5, 1)], [(3, 3), (5, 1)], [(3, 3), (4, 1)], [(3, 3), (4, 1)], [(2, 3), (3, 1)], [(1, 3), (3, 1)], [(1, 2), (4, 1)], [(1, 2), (5, 1)], [(1, 1), (5, 1)], [(2, 1), (5, 1)], [(1, 1), (5, 1)], [(1, 1), (5, 2)], [(2, 1), (5, 3)], [(2, 1), (5, 3)], [(2, 1), (5, 2)], [(3, 1), (5, 2)], [(4, 1), (5, 2)], [(5, 1), (5, 2)], [(5, 1), (5, 2)], [(5, 1), (5, 2)], [(5, 2), (5, 3)], [(5, 2), (5, 3)], [(5, 2), (4, 3)], [(5, 2), (5, 3)], [(5, 2), (5, 3)], [(5, 2), (5, 3)], [(5, 3), (5, 2)], [(4, 3), (5, 2)], [(3, 3), (5, 3)], [(3, 3), (5, 3)], [(2, 3), (5, 3)], [(2, 3), (5, 3)], [(2, 3), (5, 3)], [(1, 3), (5, 2)], [(1, 2), (5, 2)], [(1, 1), (5, 2)], [(2, 1), (5, 3)], [(2, 1), (5, 3)], [(2, 1), (5, 3)], [(1, 1), (5, 3)], [(1, 2), (5, 3)], [(1, 3), (5, 3)], [(2, 3), (5, 3)], [(2, 3), (5, 3)], [(2, 3), (5, 3)], [(1, 3), (5, 2)], [(1, 2), (5, 2)], [(1, 1), (5, 1)], [(2, 1), (4, 1)], [(2, 1), (4, 1)], [(2, 1), (3, 1)], [(1, 1), (4, 1)], [(1, 2), (3, 1)], [(1, 3), (3, 1)], [(2, 3), (4, 1)], [(2, 3), (4, 1)], [(2, 3), (3, 1)], [(1, 3), (2, 1)], [(1, 2), (3, 1)], [(1, 1), (4, 1)], [(2, 1), (4, 1)], [(2, 1), (3, 1)], [(2, 1), (4, 1)], [(1, 1), (4, 1)], [(1, 1), (4, 1)], [(1, 2), (4, 1)], [(1, 3), (3, 1)], [(2, 3), (2, 1)], [(2, 3), (2, 1)], [(3, 3), (2, 1)]]

trajectory = DLMH_R_trajectory

# Function to count tile visits
def count_tile_visits(both_agents_trajectory):
    agents1_trajectory = [step[0] for step in both_agents_trajectory]
    agents2_trajectory = [step[1] for step in both_agents_trajectory]

    visit_counter = np.zeros((5,  7))
    for step in trajectory:
        agent1 = step[0]
        agent2 = step[1]
        visit_counter[agent1[1], agent1[0]] += 1
        # visit_counter[agent2[1], agent2[0]] += 1
        # visit_counter[current_pos[0], current_pos[1]] += 1
    
    return visit_counter

# Create visit counter
visit_counts = count_tile_visits(trajectory)

# Create a mask for blocking out non-traversable tiles
layout_mask = np.zeros((5, 7), dtype=bool)
for i, row in enumerate(layout_lines):
    for j, char in enumerate(row):
        if char in 'X':  # Non-traversable tiles
            layout_mask[i, j] = True

# Mask out non-traversable tiles
visit_counts[layout_mask] = np.nan



# Plotting
plt.figure(figsize=(10, 8))
sns.heatmap(visit_counts, annot=True, cmap='YlOrRd', fmt='.0f', 
            mask=layout_mask, cbar_kws={'label': 'Number of Visits'})
plt.title('Tile Usage Heatmap in Overcooked Layout')
plt.xlabel('X Coordinate')
plt.ylabel('Y Coordinate')
plt.tight_layout()
plt.savefig('data/plots/heatmap_DLMH.png')
plt.show()